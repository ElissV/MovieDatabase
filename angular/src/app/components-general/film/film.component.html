


<div class="main-div" *ngIf="currentFilm != null">

    <img class="film-picture" src="assets/images/{{ currentFilm.imagePath }}">

    <div class="film-details">

      <div class="title">
        {{ currentFilm.name }} ({{ currentFilm.publishingYear }})
      </div>

      <div class="genre-container">
        <div class="genre" *ngFor="let genre of currentFilm.genres; let isLast=last">
          {{ genre.name }}
        </div>
      </div>

      <div class="description">
        {{ currentFilm.description }}
      </div>

    </div>


    <div class="comments-div">

        <hr style="margin-top: 50px;">
        <h1>Reviews ({{ currentFilm.filmReviews.length }})</h1>

        <div class="filter">

          <label for="reviewType">Filter by type:</label>

          <select name="reviewType" id="reviewType" (change)="filterReviews($event.target.value)">
            <option value="-1">
              none
            </option>
            <option *ngFor="let type of allReviewTypes" value="{{ type.id }}">
              {{ type.name }}
            </option>
          </select>

        </div>

        <div class="comment" 
          *ngFor="let review of reviews" 
          [ngClass]="{'positive-comment': review.reviewType.name == 'positive',
          'negative-comment': review.reviewType.name == 'negative',
          'neutral-comment': review.reviewType.name == 'neutral'}"
        >
          <div class="user-info">
            
            <img class="avatar" src="assets/images/it.jpg">
  
            <div class="comment-top-part">
              <div class="username">
                Anon
              </div>
              <div class="comment-date">
                {{ review.date | date:'dd.MM.yyyy':'+3' }}
              </div>
            </div>
          </div>
  
          <div class="comment-text">
            {{ review.text }}
          </div>
        </div>
        <div class="no-data-message"
              *ngIf="currentFilm.filmReviews?.length == 0 || currentFilm.filmReviews == null">
          No reviews yet.
        </div>

    </div>

<div class="alert alert-warning" *ngIf="currentFilm == null">
  Film data not found.
</div>